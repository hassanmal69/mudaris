var c=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var d=Object.prototype.hasOwnProperty;var a=(e,t)=>c(e,"name",{value:t,configurable:!0});var b=(e,t)=>{for(var o in t)c(e,o,{get:t[o],enumerable:!0})},P=(e,t,o,u)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of y(t))!d.call(e,s)&&s!==o&&c(e,s,{get:()=>t[s],enumerable:!(u=g(t,s))||u.enumerable});return e};var U=e=>P(c({},"__esModule",{value:!0}),e);var x={};b(x,{HostURL:()=>n,isWebContainer:()=>h});module.exports=U(x);var r;try{r=require("@blitz/internal/env")}catch(e){}function h(){return r!=null&&process.versions.webcontainer!=null}a(h,"isWebContainer");function p(e){let t=r==null?void 0:r.createServiceHostname(e);if(!t)throw new Error("Failed to construct service hostname");return t}a(p,"_createServiceHostname");function f(e){return r==null?void 0:r.isServiceUrl(e)}a(f,"_isServiceUrl");function l(e){return r==null?void 0:r.isLocalhost(e)}a(l,"_isLocalhost");var n=class{constructor(t){this._url=t;if(this._port=this._url.port,h()&&l(this._url.hostname)){let o=p(this._port);this._url.host=o,this._port===this._url.port&&(this._url.port="")}}static parse(t){return t=typeof t=="string"?new URL(t):t,new n(t)}get port(){return h()?this._port:this._url.port}get hash(){return this._url.hash}get host(){return this._url.host}get hostname(){return this._url.hostname}get href(){return this._url.href}get origin(){return this._url.origin}get username(){return this._url.username}get password(){return this._url.password}get pathname(){return this._url.pathname}get protocol(){return this._url.protocol}get search(){return this._url.search}get searchParams(){return this._url.searchParams}update(t){var u;let o=h();for(let s in t){let i=(u=t[s])!=null?u:"";if(o)switch(s){case"port":{if(this._port=i,(l(this._url.hostname)||f(this._url.hostname))&&(this._url.host=p(i),this._port!==this._url.port))continue;break}case"host":{let[m,_=this._port]=i.split(":");this._port=_,l(m)&&(i=p(_));break}case"hostname":{if(l(i)){if(/\/|:/.test(i))continue;i=p(this._port)}else this._url.port=this._port;break}case"href":{this._url=n.parse(i);continue}}this._url[s]=i}return this}toString(){return this._url.toString()}toJSON(){return this._url.toJSON()}};a(n,"HostURL");0&&(module.exports={HostURL,isWebContainer});
/**
 * @license Copyright 2022 Stackblitz, Inc. All Rights Reserved.
 * Portions of this software are patent pending in USA and EU jurisdictions.
 * More info available at https://stackblitz.com/terms-of-service.
 */
